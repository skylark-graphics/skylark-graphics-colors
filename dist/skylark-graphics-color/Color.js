/**
 * skylark-graphics-color - The skylark color utility library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx-ns","skylark-langx-types","skylark-langx-klass","./_names","./_hexNames","./_conversion"],function(t,r,s,i,n,h){var o=Math,e=o.round,a=o.min,u=o.max,g=o.random;function _(t){return a(1,u(0,t))}var l=s({init:function(t,s){s=s||{},r.isString(t)&&(t=h.hexToRgb(t)),this._r=t.r,this._g=t.g,this._b=t.b,this._a=r.isDefined(t.a)?t.a:1,this._roundA=e(1e3*this._a)/1e3,this._format=s.format||t.format,this._gradientType=s.gradientType,this._r<1&&(this._r=e(this._r)),this._g<1&&(this._g=e(this._g)),this._b<1&&(this._b=e(this._b))},isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){var r;return this._a=(r=t,r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r),this._roundA=e(1e3*this._a)/1e3,this},toHsv:function(){var t=h.rgbToHsv(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=h.rgbToHsv(this._r,this._g,this._b),r=e(360*t.h),s=e(100*t.s),i=e(100*t.v);return 1==this._a?"hsv("+r+", "+s+"%, "+i+"%)":"hsva("+r+", "+s+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=h.rgbToHsl(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=h.rgbToHsl(this._r,this._g,this._b),r=e(360*t.h),s=e(100*t.s),i=e(100*t.l);return 1==this._a?"hsl("+r+", "+s+"%, "+i+"%)":"hsla("+r+", "+s+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return h.rgbToHex(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return h.rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:e(this._r),g:e(this._g),b:e(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+e(this._r)+", "+e(this._g)+", "+e(this._b)+")":"rgba("+e(this._r)+", "+e(this._g)+", "+e(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:e(100*h.bound01(this._r,255))+"%",g:e(100*h.bound01(this._g,255))+"%",b:e(100*h.bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+e(100*h.bound01(this._r,255))+"%, "+e(100*h.bound01(this._g,255))+"%, "+e(100*h.bound01(this._b,255))+"%)":"rgba("+e(100*h.bound01(this._r,255))+"%, "+e(100*h.bound01(this._g,255))+"%, "+e(100*h.bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(n[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var r="#"+h.rgbaToHex(this._r,this._g,this._b,this._a),s=r,i=this._gradientType?"GradientType = 1, ":"";t&&(s=l(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+s+")"},toString:function(t){var r=!!t;t=t||this._format;var s=!1,i=this._a<1&&this._a>=0;return r||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(s=this.toRgbString()),"prgb"===t&&(s=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(s=this.toHexString()),"hex3"===t&&(s=this.toHexString(!0)),"hex8"===t&&(s=this.toHex8String()),"name"===t&&(s=this.toName()),"hsl"===t&&(s=this.toHslString()),"hsv"===t&&(s=this.toHsvString()),s||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},lighten:function(t){t=0===t?0:t||10;var r=this.toHsl();return r.l+=t/100,r.l=_(r.l),l.fromHsl(r)},brighten:function(t){t=0===t?0:t||10;var r=this.toRgb();return r.r=u(0,a(255,r.r-e(-t/100*255))),r.g=u(0,a(255,r.g-e(-t/100*255))),r.b=u(0,a(255,r.b-e(-t/100*255))),new l(r)},darken:function(t){t=0===t?0:t||10;var r=this.toHsl();return r.l-=t/100,r.l=_(r.l),l.fromHsl(r)},desaturate:function(t){t=0===t?0:t||10;var r=this.toHsl();return r.s-=t/100,r.s=_(r.s),l.fromHsl(r)},saturate:function(t){t=0===t?0:t||10;var r=this.toHsl();return r.s+=t/100,r.s=_(r.s),l.fromHsl(r)},greyscale:function(){return this.desaturate(100)},spin:function(t){var r=this.toHsl(),s=(e(r.h)+t)%360;return r.h=s<0?360+s:s,l.fromHsl(r)},analogous:function(t,r){t=t||6,r=r||30;var s=this.toHsl(),i=360/r,n=[this];for(s.h=(s.h-(i*t>>1)+720)%360;--t;)s.h=(s.h+i)%360,n.push(l.fromHsl(s));return n},complement:function(){var t=this.toHsl();return t.h=(t.h+180)%360,l.fromHsl(t)},monochromatic:function(t){t=t||6;for(var r=this.toHsv(),s=r.h,i=r.s,n=r.v,h=[],o=1/t;t--;)h.push(l.fromHsv({h:s,s:i,v:n})),n=(n+o)%1;return h},splitcomplement:function(){var t=this.toHsl(),r=t.h;return[this,l.fromHsl({h:(r+72)%360,s:t.s,l:t.l}),l.fromHsl({h:(r+216)%360,s:t.s,l:t.l})]},triad:function(){var t=this.toHsl(),r=t.h;return[this,l.fromHsl({h:(r+120)%360,s:t.s,l:t.l}),l.fromHsl({h:(r+240)%360,s:t.s,l:t.l})]},tetrad:function(){var t=this.toHsl(),r=t.h;return[this,l.fromHsl({h:(r+90)%360,s:t.s,l:t.l}),l.fromHsl({h:(r+180)%360,s:t.s,l:t.l}),l.fromHsl({h:(r+270)%360,s:t.s,l:t.l})]},mix:function(t,r){r=0===r?0:r||50;var s,i=this.toRgb(),n=t.toRgb(),h=r/100,o=2*h-1,e=n.a-i.a,a=1-(s=((s=o*e==-1?o:(o+e)/(1+o*e))+1)/2),u={r:n.r*s+i.r*a,g:n.g*s+i.g*a,b:n.b*s+i.b*a,a:n.a*h+i.a*(1-h)};return new l(u)},isValid:function(){return!0}});return l.equals=function(t,r){return!(!t||!r)&&(t=l.parse(t),r=l.parse(r),t.toRgbString()==r.toRgbString())},l.random=function(){return l.fromRatio({r:g(),g:g(),b:g()})},l.fromRgba=function(t,r,s,i){return new l({r:t,g:r,b:s,a:i})},l.fromRgb=function(t,r,s){return new l({r:t,g:r,b:s})},l.fromHsl=function(t,r,s,i){var n=h.hslToRgb(t,r,s);return new l(n)},l.fromHsv=function(t,r,s,i){var n=h.hsvToRgb(t,r,s);return new l(n)},t.attach("graphics.Color",l)});
//# sourceMappingURL=sourcemaps/Color.js.map
